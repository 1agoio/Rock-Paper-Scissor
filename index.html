<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button type="button" id="rock" onclick="rock()">Rock</button>
    <button type="button" id="paper" onclick="paper()">Paper</button>
    <button type="button" id="scissors" onclick="scissors()">Scissors</button>

    <div>

    </div>
    <script>
        
        let playerChoice = '';
        let playerToPlay = true;
        let computerChoice = '';
        let playerWins = 0;
        let computerWins = 0;
        let draws = 0;
        let playerWin = false;
        let computerWin = false;
        function rock(){
            if(playerToPlay){
                playerChoice = "rock";
               
                console.log(playerChoice);
                playerToPlay = false;
                computerPlay();
            }
            
        }
        function paper(){
            if(playerToPlay){
                playerChoice = "paper";
                
                console.log(playerChoice);
                playerToPlay = false;
                computerPlay();
            }
        }
        function scissors(){
            if(playerToPlay){
                playerChoice = "scissors";
                
                console.log(playerChoice);
                playerToPlay = false;
                computerPlay();
            }
        }
        function computerPlay(){
          if(!playerToPlay){
            let min = 0;
            let max = 3;
            let difference = max - min;
            let rand = Math.random();
            rand = Math.floor( rand * difference);
            rand = rand + min;
            if (rand === 0){
                computerChoice = 'rock';
                console.log(computerChoice);
                playerToPlay = true;
                //console.log(rand);
                } else if (rand === 1) {
                computerChoice = 'paper';
                console.log(computerChoice);
                playerToPlay = true;
                //console.log(rand);
                } else if (rand === 2){
                computerChoice = 'scissors';
                console.log(computerChoice);
                playerToPlay = true;
                //console.log(rand);
                } 
            }
            checkWinner();
          }
          
          function checkWinner(){
            if(playerChoice == computerChoice){
                alert("it's a draw");
                draw = true;
                draws++;
            } else if(playerChoice === 'rock' && computerChoice === 'scissors'){
                alert('You win');
                playerWin = true;
            } else if(playerChoice === 'paper' && computerChoice === 'rock'){
                alert('You win');
                playerWin = true;
            } else if(playerChoice === 'scissors' && computerChoice === 'paper'){
                alert('You win');
                playerWin = true;
            } else if(playerChoice === 'scissors' && computerChoice === 'rock'){
                alert('You lost');
                computerWin = true;
            } else if(playerChoice === 'rock' && computerChoice === 'paper'){
                alert('You lost');
                computerWin = true;
            } else if(playerChoice === 'paper' && computerChoice === 'scissors'){
                alert('You lost');
                computerWin = true;
            } 
            matches();
        }
        function matches(){
            if(playerWin){
                playerWins++;
                playerWin = false;
                alert("player won :" , playerWins , "times" );
               
            } else if (computerWin){
                computerWins++;
                computerWin = false;
                alert("computer won :" , computerWins, "times");
               
            } else if(draw){
                
                console.log('game tied', draws , 'times' );
                
            }
        
        }
    </script>
    
</body>
</html>